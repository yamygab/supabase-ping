var g=(u,i,t)=>new Promise((m,l)=>{var p=r=>{try{d(t.next(r))}catch(n){l(n)}},c=r=>{try{d(t.throw(r))}catch(n){l(n)}},d=r=>r.done?m(r.value):Promise.resolve(r.value).then(p,c);d((t=t.apply(u,i)).next())});import{c as b,j as e,X as w}from"./index-kbQvcKUy.js";import{b as o}from"./react-vendor-fl-F22Yl.js";import{supabase as f}from"./supabase-B78L1HX7.js";import{L as v}from"./loader-2-BJsx5LEL.js";import"./supabase-Be2CfTKE.js";const j=b("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const N=b("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),A=()=>{const[u,i]=o.useState(!0),[t,m]=o.useState(!0),[l,p]=o.useState(""),[c,d]=o.useState(""),[r,n]=o.useState(!1),[h,x]=o.useState(null);o.useEffect(()=>{const a=()=>i(!0);return document.addEventListener("open-auth-modal",a),()=>document.removeEventListener("open-auth-modal",a)},[]);const y=a=>g(null,null,function*(){a.preventDefault(),n(!0),x(null);try{if(t){const{error:s}=yield f.auth.signInWithPassword({email:l,password:c});if(s)throw s}else{const{error:s}=yield f.auth.signUp({email:l,password:c});if(s)throw s}i(!1),window.location.reload()}catch(s){x(s.message||"Authentication failed")}finally{n(!1)}});return u?e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-[#1a1a1a] border border-purple-500/30 rounded-2xl w-full max-w-md p-6 shadow-[0_0_50px_rgba(168,85,247,0.2)] relative",children:[e.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:e.jsx(w,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold font-display text-white mb-6 text-center",children:t?"Welcome Back":"Create Account"}),h&&e.jsx("div",{className:"bg-red-900/30 border border-red-500/50 text-red-200 p-3 rounded-lg mb-4 text-sm",children:h}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"email",value:l,onChange:a=>p(a.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all",placeholder:"you@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"password",value:c,onChange:a=>d(a.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg py-3 pl-10 pr-4 text-white focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all",placeholder:"••••••••",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg transform hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:r?e.jsx(v,{className:"w-5 h-5 animate-spin"}):t?"Sign In":"Sign Up"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:[t?"Don't have an account? ":"Already have an account? ",e.jsx("button",{onClick:()=>m(!t),className:"text-purple-400 hover:text-purple-300 font-semibold",children:t?"Sign Up":"Sign In"})]})]})}):null};export{A as default};
