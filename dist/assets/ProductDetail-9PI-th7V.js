var U=(p,h,t)=>new Promise((c,x)=>{var m=l=>{try{n(t.next(l))}catch(o){x(o)}},b=l=>{try{n(t.throw(l))}catch(o){x(o)}},n=l=>l.done?c(l.value):Promise.resolve(l.value).then(m,b);n((t=t.apply(p,h)).next())});import{c as d,P as R,j as e,A as T}from"./index-kbQvcKUy.js";import{e as I,f as Q,b as a,L as w}from"./react-vendor-fl-F22Yl.js";import{initiateCheckoutSession as D}from"./supabase-B78L1HX7.js";import{S as $}from"./shield-check-DodPmb7u.js";import{C as B}from"./check-circle-CBUfPaN6.js";import{C as _}from"./chevron-down-UWznK81n.js";import"./supabase-Be2CfTKE.js";const H=d("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const W=d("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const K=d("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const V=d("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const G=d("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ae=()=>{var M,E,A;const{id:p}=I(),h=Q(),t=R.find(s=>s.id===p),[c,x]=a.useState(""),[m,b]=a.useState("BTC"),[n,l]=a.useState(!1),[o,y]=a.useState(null),[u,k]=a.useState(((E=(M=t==null?void 0:t.options)==null?void 0:M[0])==null?void 0:E.value)||""),[g,C]=a.useState((t==null?void 0:t.minQty)||1),[S,f]=a.useState(!1),v=a.useRef(null),[j,F]=a.useState(""),[N,q]=a.useState("");if(a.useEffect(()=>{var s,r;t&&(C(t.minQty||1),k(((r=(s=t.options)==null?void 0:s[0])==null?void 0:r.value)||""),y(null),v.current&&v.current.complete&&f(!0))},[t]),!t)return e.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center text-center px-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Product Not Found"}),e.jsx(w,{to:"/",className:"text-purple-400 hover:text-purple-300",children:"Return Home"})]});const P=t.options&&((A=t.options.find(s=>s.value===u))==null?void 0:A.price)||t.price,z=P*(t.id==="paypal-logs"?g:1),O=s=>U(null,null,function*(){s.preventDefault(),l(!0),y(null);try{const r={};j&&(r.country=j),N&&(r.address=N),u&&(r.selectedOption=u);const i=yield D({product_sku:t.sku,email:c,crypto:m,qty:t.id==="paypal-logs"?g:1,option_price_usd:P,option_meta:r});if(i&&i.session_id)h(`/payment?session_id=${i.session_id}`);else throw new Error("Failed to initialize payment session")}catch(r){y(r.message||"Checkout failed. Please try again.")}finally{l(!1)}}),L=s=>{const r=t.minQty||1;C(i=>Math.max(r,i+s))};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs(w,{to:"/",className:"inline-flex items-center text-gray-400 hover:text-white mb-6 transition-colors",children:[e.jsx(H,{className:"w-4 h-4 mr-2"})," Back to Products"]}),e.jsx("div",{className:"bg-[#1a1a1a] rounded-3xl border border-gray-800 overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"p-8 border-b md:border-b-0 md:border-r border-gray-800",children:[e.jsxs("div",{className:"aspect-video bg-[#0f0f0f] rounded-2xl overflow-hidden mb-6 relative group border border-gray-800",children:[!S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900 z-0"}),e.jsx("div",{className:"absolute inset-0 shimmer z-0 opacity-20"})]}),e.jsx("img",{ref:v,src:t.image,alt:t.name,loading:"eager",decoding:"async",fetchpriority:"high",sizes:"(max-width: 768px) 100vw, 50vw",onLoad:()=>f(!0),onError:()=>f(!0),className:`w-full h-full object-contain group-hover:scale-105 transition-all duration-700 relative z-10 ${S?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute top-3 left-3 z-20 bg-black/60 backdrop-blur-md px-3 py-1 rounded-full border border-gray-700 shadow-lg",children:e.jsxs("div",{className:"flex items-center text-xs font-bold text-white",children:[e.jsx($,{className:"w-3 h-3 text-green-400 mr-1"}),"Verified"]})})]}),e.jsx("h1",{className:"text-3xl font-bold font-display text-white mb-2",children:t.name}),e.jsxs(w,{to:`/reviews?product=${encodeURIComponent(t.name)}`,className:"flex items-center mb-6 group w-fit hover:bg-white/5 p-2 -ml-2 rounded-lg transition-all cursor-pointer",children:[e.jsxs("span",{className:"text-yellow-400 font-bold mr-2 group-hover:scale-110 transition-transform",children:["★ ",t.rating]}),e.jsxs("span",{className:"text-gray-500 text-sm underline decoration-gray-700 group-hover:text-purple-400 group-hover:decoration-purple-500 transition-colors flex items-center",children:["(Verified Reviews)",e.jsx(K,{className:"w-3 h-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),e.jsx("div",{className:"prose prose-invert max-w-none text-sm text-gray-400 mb-6",children:e.jsx("p",{children:t.details})}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-800",children:[e.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[e.jsx(B,{className:"w-4 h-4 text-purple-500 mr-2"}),"Features"]}),e.jsx("ul",{className:"space-y-2",children:t.features.map((s,r)=>e.jsxs("li",{className:"text-gray-400 text-sm flex items-start",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-1.5 mr-2 shrink-0"}),s]},r))})]}),e.jsxs("div",{className:"mt-6 flex items-start p-4 bg-yellow-900/10 border border-yellow-700/30 rounded-xl",children:[e.jsx(T,{className:"w-5 h-5 text-yellow-500 mr-3 shrink-0"}),e.jsxs("div",{className:"text-xs text-yellow-200/80",children:[e.jsx("strong",{className:"block text-yellow-500 mb-1",children:"Important Warranty"}),"Please report any issues within 30 minutes of purchase. No refunds for user error or misuse."]})]})]}),e.jsxs("div",{className:"p-8 bg-gradient-to-b from-[#1a1a1a] to-[#151515]",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx(W,{className:"w-5 h-5 mr-2 text-purple-400"}),"Secure Checkout"]}),e.jsxs("form",{onSubmit:O,className:"space-y-5",children:[t.options&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2 font-medium",children:"Select Option"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:u,onChange:s=>k(s.target.value),className:"w-full bg-black border border-gray-700 text-white rounded-xl px-4 py-3 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none appearance-none",children:t.options.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx(_,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),t.id==="paypal-logs"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-400 text-sm mb-2 font-medium flex justify-between",children:[e.jsx("span",{children:"Quantity"}),e.jsxs("span",{className:"text-xs text-purple-400",children:["Min Order: ",t.minQty]})]}),e.jsxs("div",{className:"flex items-center space-x-0 bg-black border border-gray-700 rounded-xl overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>L(-1),className:"px-4 py-3 text-gray-400 hover:text-white hover:bg-gray-800 transition-colors border-r border-gray-700",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",readOnly:!0,value:g,className:"w-full bg-transparent text-center text-white font-bold outline-none"}),e.jsx("button",{type:"button",onClick:()=>L(1),className:"px-4 py-3 text-gray-400 hover:text-white hover:bg-gray-800 transition-colors border-l border-gray-700",children:e.jsx(G,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2 font-medium",children:"Email Address"}),e.jsx("input",{type:"email",value:c,onChange:s=>x(s.target.value),placeholder:"For product delivery",className:"w-full bg-black border border-gray-700 text-white rounded-xl px-4 py-3 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none placeholder-gray-600",required:!0})]}),(t.id==="linkable-debit"||t.id==="dumps-pin")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2 font-medium",children:"Country Preference"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:j,onChange:s=>F(s.target.value),className:"w-full bg-black border border-gray-700 text-white rounded-xl px-4 py-3 focus:border-purple-500 outline-none appearance-none",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Region"}),e.jsx("option",{value:"USA",children:"United States (USA)"}),e.jsx("option",{value:"UK",children:"United Kingdom (UK)"}),e.jsx("option",{value:"Canada",children:"Canada"}),e.jsx("option",{value:"Australia",children:"Australia"}),e.jsx("option",{value:"Germany",children:"Germany"}),e.jsx("option",{value:"France",children:"France"}),e.jsx("option",{value:"Spain",children:"Spain"}),e.jsx("option",{value:"Italy",children:"Italy"}),e.jsx("option",{value:"Netherlands",children:"Netherlands"}),e.jsx("option",{value:"Worldwide",children:"Worldwide / Mixed"})]}),e.jsx(_,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),t.id==="clone-cards"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2 font-medium",children:"Shipping Address"}),e.jsx("textarea",{value:N,onChange:s=>q(s.target.value),placeholder:"Full shipping address...",className:"w-full bg-black border border-gray-700 text-white rounded-xl px-4 py-3 focus:border-purple-500 outline-none min-h-[100px]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2 font-medium",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["BTC","LTC","ETH","USDT"].map(s=>e.jsx("button",{type:"button",onClick:()=>b(s),className:`py-3 px-4 rounded-xl text-sm font-bold border transition-all ${m===s?"bg-purple-600 border-purple-500 text-white shadow-[0_0_15px_rgba(147,51,234,0.3)]":"bg-black border-gray-700 text-gray-400 hover:border-gray-500"}`,children:s},s))})]}),o&&e.jsx("div",{className:"p-3 bg-red-900/20 border border-red-500/30 rounded-lg text-red-200 text-xs",children:o}),e.jsxs("div",{className:"pt-4 border-t border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-400",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-white font-display",children:["$",z.toFixed(2)]})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-extrabold py-4 rounded-xl shadow-lg transform active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":"BUY NOW"}),e.jsx("p",{className:"text-center text-xs text-gray-600 mt-3",children:"Secure SSL Encryption • Instant Delivery"})]})]})]})]})})]})};export{ae as default};
